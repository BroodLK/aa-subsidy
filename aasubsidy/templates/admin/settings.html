{% extends 'contracts/base.html' %}
{% load i18n %}

{% block details %}
<div class="container-xxl py-3">
  {% if messages %}
    {% for message in messages %}
      <div class="alert {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %}">{{ message }}</div>
    {% endfor %}
  {% endif %}
  <div class="card">
    <div class="card-header">
      <h3 class="m-0">{% trans "Subsidy Settings" %}</h3>
    </div>
    <div class="card-body">
      <form method="post">
        {% csrf_token %}
        <div class="row g-3">
          <div class="col-12 col-md-6">
            <label class="form-label">{% trans "Price Basis" %}</label>
            <select name="price_basis" class="form-select themable-select">
              <option value="sell" {% if cfg.price_basis == 'sell' %}selected{% endif %}>{% trans "Jita Sell" %}</option>
              <option value="buy" {% if cfg.price_basis == 'buy' %}selected{% endif %}>{% trans "Jita Buy" %}</option>
            </select>
          </div>
          <div class="col-12 col-md-6">
            <label class="form-label">{% trans "Percentage over Basis" %}</label>
            <div class="input-group">
              <input type="number" step="0.0001" min="0" name="pct_over_basis" class="form-control themable-input" value="{{ cfg.pct_over_basis }}">
              <span class="input-group-text">ratio (e.g. 0.10 = 10%)</span>
            </div>
          </div>
          <div class="col-12 col-md-6">
            <label class="form-label">{% trans "Cost per m3 (ISK)" %}</label>
            <input type="number" step="0.01" min="0" name="cost_per_m3" class="form-control themable-input" value="{{ cfg.cost_per_m3 }}">
          </div>
          <div class="col-12 col-md-6">
            <label class="form-label">{% trans "Rounding increment (ISK)" %}</label>
            <input type="number" step="1" min="1" name="rounding_increment" class="form-control themable-input" value="{{ cfg.rounding_increment }}">
          </div>
        </div>
        <div class="mt-3">
          <button class="btn btn-primary" type="submit">{% trans "Save" %}</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
